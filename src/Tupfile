include_rules

: foreach *.vala |> !fast-vapi |> {vapis}

# Main is special since it has dependencies.
VAPISFILES = windows/window.vapi
VAPISPARAMS += --use-fast-vapi=windows/window.vapi
: main.vala | $(VAPISFILES) |> !valac |>

: *.c |> !ccobj |>

# Now that all the .o files should be generated, build object file.
: main.o windows/window.o |> !ccbin |> main
